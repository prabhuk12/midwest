{
  "layout": "Scatter",
  "rdbmsId": "2ac3f0ed-4282-4f06-b8ba-481d080ec883",
  "hidden": false,
  "insightName": "Step 6 - Color and Facet with Filter",
  "recipe": "AddPanel ( 0 ) ;Panel ( 0 ) | AddPanelConfig ( config \u003d [ { \"config\" : { \"type\" : \"STANDARD\" , \"opacity\" : 100 } } ] ) ;Panel ( 0 ) | AddPanelEvents ( { \"onSingleClick\" : { \"Unfilter\" : [ { \"panel\" : \"\" , \"query\" : \"\u003cencode\u003eUnfilterFrame(\u003cSelectedColumn\u003e);\u003c/encode\u003e\" , \"options\" : { } , \"refresh\" : false , \"default\" : true , \"disabledVisuals\" : [ \"Grid\" , \"Sunburst\" ] , \"disabled\" : false } ] } , \"onBrush\" : { \"Filter\" : [ { \"panel\" : \"\" , \"query\" : \"\u003cencode\u003eif(IsEmpty(\u003cSelectedValues\u003e), UnfilterFrame(\u003cSelectedColumn\u003e), SetFrameFilter(\u003cSelectedColumn\u003e\u003d\u003d\u003cSelectedValues\u003e));\u003c/encode\u003e\" , \"options\" : { } , \"refresh\" : false , \"default\" : true , \"disabled\" : false } ] } } ) ;Panel ( 0 ) | RetrievePanelEvents ( ) ;Panel ( 0 ) | SetPanelView ( \"visualization\" , \"\u003cencode\u003e{\"type\":\"echarts\"}\u003c/encode\u003e\" ) ;Panel ( 0 ) | SetPanelView ( \"federate-view\" , \"\u003cencode\u003e{\"app_id\":\"df9ce5f5-0ba7-4576-89a0-66be003caf48\"}\u003c/encode\u003e\" ) ;CreateFrame ( frameType \u003d [ GRID ] ) .as ( [ \u0027FRAME960011\u0027 ] ) ;Database ( database \u003d [ \"df9ce5f5-0ba7-4576-89a0-66be003caf48\" ] ) | Select ( MIDWEST , MIDWEST__PID , MIDWEST__area , MIDWEST__category , MIDWEST__county , MIDWEST__inmetro , MIDWEST__percadultpoverty , MIDWEST__percamerindan , MIDWEST__percasian , MIDWEST__percbelowpoverty , MIDWEST__percblack , MIDWEST__percchildbelowpovert , MIDWEST__percelderlypoverty , MIDWEST__perchsd , MIDWEST__percollege , MIDWEST__percother , MIDWEST__percpovertyknown , MIDWEST__percprof , MIDWEST__percwhite , MIDWEST__popadults , MIDWEST__popamerindian , MIDWEST__popasian , MIDWEST__popblack , MIDWEST__popdensity , MIDWEST__popother , MIDWEST__poppovertyknown , MIDWEST__poptotal , MIDWEST__popwhite , MIDWEST__state_1 ) .as ( [ MIDWEST , PID , area , category , county , inmetro , percadultpoverty , percamerindan , percasian , percbelowpoverty , percblack , percchildbelowpovert , percelderlypoverty , perchsd , percollege , percother , percpovertyknown , percprof , percwhite , popadults , popamerindian , popasian , popblack , popdensity , popother , poppovertyknown , poptotal , popwhite , state_1 ] ) | Import ( ) ;Panel ( 0 ) | SetPanelView ( \"visualization\" ) ;Frame ( ) | QueryAll ( ) | AutoTaskOptions ( panel \u003d [ \"0\" ] , layout \u003d [ \"Grid\" ] ) | Collect ( 500 ) ;if ( ( HasDuplicates ( PID ) ) , ( Select ( PID , Average ( area ) , Average ( poptotal ) ) .as ( [ PID , Averageofarea , Averageofpoptotal ] ) | Group ( PID ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Scatter\" , \"alignment\" : { \"label\" : [ \"PID\" ] , \"x\" : [ \"Averageofarea\" ] , \"y\" : [ \"Averageofpoptotal\" ] , \"z\" : [ ] , \"series\" : [ ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) , ( Select ( PID , area , poptotal ) .as ( [ PID , area , poptotal ] ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Scatter\" , \"alignment\" : { \"label\" : [ \"PID\" ] , \"x\" : [ \"area\" ] , \"y\" : [ \"poptotal\" ] , \"z\" : [ ] , \"series\" : [ ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) ) ;if ( IsEmpty ( [ \"1197\" , \"1198\" , \"1199\" , \"1200\" , \"1201\" , \"1202\" , \"1203\" , \"1204\" , \"1205\" , \"1206\" , \"1207\" , \"1208\" , \"1209\" , \"1210\" , \"1211\" , \"1212\" , \"1213\" , \"1214\" , \"1215\" , \"1216\" , \"1217\" , \"1218\" , \"1219\" , \"1220\" , \"1221\" , \"1222\" , \"1223\" , \"1224\" , \"1225\" , \"1226\" , \"1227\" , \"1228\" , \"1229\" , \"1230\" , \"1231\" , \"1232\" , \"1233\" , \"1234\" , \"1235\" , \"1236\" , \"1237\" , \"1238\" , \"1239\" , \"1240\" , \"1241\" , \"1242\" , \"1243\" , \"1244\" , \"1245\" , \"1246\" , \"1247\" , \"1248\" , \"1249\" , \"1250\" , \"1251\" , \"1252\" , \"1253\" , \"1254\" , \"1255\" , \"1256\" , \"1257\" , \"1258\" , \"1259\" , \"1260\" , \"1261\" , \"1262\" , \"1263\" , \"1264\" , \"1265\" , \"1266\" , \"1267\" , \"1268\" , \"1269\" , \"1270\" , \"1271\" , \"1272\" , \"1273\" , \"1274\" , \"1275\" , \"1276\" , \"1277\" , \"1279\" , \"2009\" , \"2010\" , \"2011\" , \"2012\" , \"2013\" , \"2014\" , \"2015\" , \"2016\" , \"2017\" , \"2018\" , \"2019\" , \"2020\" , \"2021\" , \"2022\" , \"2023\" , \"2024\" , \"2025\" , \"2027\" , \"2028\" , \"2029\" , \"2030\" , \"2031\" , \"2032\" , \"2033\" , \"2034\" , \"2035\" , \"2036\" , \"2037\" , \"2038\" , \"2039\" , \"2040\" , \"2041\" , \"2042\" , \"2043\" , \"2044\" , \"2045\" , \"2046\" , \"2047\" , \"2048\" , \"2049\" , \"2050\" , \"2051\" , \"2052\" , \"2053\" , \"2054\" , \"2055\" , \"2056\" , \"2057\" , \"2058\" , \"2059\" , \"2060\" , \"2061\" , \"2062\" , \"2063\" , \"2064\" , \"2065\" , \"2066\" , \"2067\" , \"2068\" , \"2069\" , \"2070\" , \"2071\" , \"2072\" , \"2073\" , \"2074\" , \"2075\" , \"2076\" , \"2077\" , \"2078\" , \"2079\" , \"2080\" , \"2081\" , \"2082\" , \"2083\" , \"2084\" , \"2085\" , \"2086\" , \"2087\" , \"2088\" , \"2089\" , \"2090\" , \"2091\" , \"2092\" , \"2093\" , \"2094\" , \"2095\" , \"2096\" , \"2981\" , \"2982\" , \"2983\" , \"2984\" , \"2985\" , \"2986\" , \"2987\" , \"2988\" , \"2989\" , \"2990\" , \"2991\" , \"2992\" , \"2993\" , \"2994\" , \"2995\" , \"2996\" , \"2997\" , \"2998\" , \"2999\" , \"3000\" , \"3001\" , \"3002\" , \"3003\" , \"3004\" , \"3005\" , \"3006\" , \"3007\" , \"3008\" , \"3009\" , \"3010\" , \"3011\" , \"3012\" , \"3013\" , \"3014\" , \"3015\" , \"3016\" , \"3017\" , \"3018\" , \"3019\" , \"3020\" , \"3021\" , \"3022\" , \"3023\" , \"3024\" , \"3025\" , \"3026\" , \"3027\" , \"3028\" , \"3029\" , \"3030\" , \"3031\" , \"3032\" , \"3033\" , \"3034\" , \"3035\" , \"3036\" , \"3037\" , \"3038\" , \"3039\" , \"3040\" , \"3041\" , \"3042\" , \"3043\" , \"3044\" , \"3045\" , \"3046\" , \"3047\" , \"3048\" , \"3049\" , \"3050\" , \"3051\" , \"3052\" , \"561\" , \"562\" , \"563\" , \"564\" , \"565\" , \"566\" , \"567\" , \"568\" , \"569\" , \"570\" , \"571\" , \"572\" , \"573\" , \"574\" , \"575\" , \"577\" , \"578\" , \"579\" , \"580\" , \"581\" , \"582\" , \"583\" , \"584\" , \"585\" , \"586\" , \"587\" , \"588\" , \"589\" , \"590\" , \"591\" , \"592\" , \"593\" , \"594\" , \"595\" , \"596\" , \"597\" , \"598\" , \"599\" , \"600\" , \"601\" , \"602\" , \"603\" , \"604\" , \"605\" , \"606\" , \"607\" , \"608\" , \"609\" , \"610\" , \"611\" , \"612\" , \"613\" , \"614\" , \"615\" , \"616\" , \"617\" , \"618\" , \"619\" , \"620\" , \"621\" , \"622\" , \"623\" , \"624\" , \"625\" , \"626\" , \"627\" , \"628\" , \"629\" , \"630\" , \"631\" , \"632\" , \"633\" , \"634\" , \"635\" , \"636\" , \"637\" , \"638\" , \"639\" , \"640\" , \"641\" , \"642\" , \"643\" , \"644\" , \"645\" , \"646\" , \"647\" , \"648\" , \"649\" , \"650\" , \"651\" , \"652\" , \"653\" , \"654\" , \"655\" , \"656\" , \"657\" , \"658\" , \"659\" , \"660\" , \"661\" , \"662\" , \"663\" , \"664\" , \"665\" , \"666\" , \"667\" , \"668\" , \"669\" , \"670\" , \"671\" , \"672\" , \"673\" , \"674\" , \"675\" , \"676\" , \"677\" , \"678\" , \"679\" , \"680\" , \"681\" , \"682\" , \"683\" , \"684\" , \"685\" , \"686\" , \"687\" , \"688\" , \"689\" , \"690\" , \"691\" , \"692\" , \"693\" , \"694\" , \"695\" , \"696\" , \"697\" , \"698\" , \"699\" , \"700\" , \"701\" , \"702\" , \"703\" , \"704\" , \"705\" , \"706\" , \"707\" , \"708\" , \"709\" , \"710\" , \"711\" , \"712\" , \"713\" , \"714\" , \"715\" , \"716\" , \"717\" , \"718\" , \"719\" , \"720\" , \"721\" , \"722\" , \"723\" , \"724\" , \"725\" , \"726\" , \"727\" , \"728\" , \"729\" , \"730\" , \"731\" , \"732\" , \"733\" , \"734\" , \"735\" , \"736\" , \"737\" , \"738\" , \"739\" , \"740\" , \"741\" , \"742\" , \"743\" , \"744\" , \"745\" , \"746\" , \"747\" , \"748\" , \"749\" , \"750\" , \"751\" , \"752\" , \"753\" , \"754\" ] ) , UnfilterFrame ( PID ) , SetFrameFilter ( PID \u003d\u003d [ \"1197\" , \"1198\" , \"1199\" , \"1200\" , \"1201\" , \"1202\" , \"1203\" , \"1204\" , \"1205\" , \"1206\" , \"1207\" , \"1208\" , \"1209\" , \"1210\" , \"1211\" , \"1212\" , \"1213\" , \"1214\" , \"1215\" , \"1216\" , \"1217\" , \"1218\" , \"1219\" , \"1220\" , \"1221\" , \"1222\" , \"1223\" , \"1224\" , \"1225\" , \"1226\" , \"1227\" , \"1228\" , \"1229\" , \"1230\" , \"1231\" , \"1232\" , \"1233\" , \"1234\" , \"1235\" , \"1236\" , \"1237\" , \"1238\" , \"1239\" , \"1240\" , \"1241\" , \"1242\" , \"1243\" , \"1244\" , \"1245\" , \"1246\" , \"1247\" , \"1248\" , \"1249\" , \"1250\" , \"1251\" , \"1252\" , \"1253\" , \"1254\" , \"1255\" , \"1256\" , \"1257\" , \"1258\" , \"1259\" , \"1260\" , \"1261\" , \"1262\" , \"1263\" , \"1264\" , \"1265\" , \"1266\" , \"1267\" , \"1268\" , \"1269\" , \"1270\" , \"1271\" , \"1272\" , \"1273\" , \"1274\" , \"1275\" , \"1276\" , \"1277\" , \"1279\" , \"2009\" , \"2010\" , \"2011\" , \"2012\" , \"2013\" , \"2014\" , \"2015\" , \"2016\" , \"2017\" , \"2018\" , \"2019\" , \"2020\" , \"2021\" , \"2022\" , \"2023\" , \"2024\" , \"2025\" , \"2027\" , \"2028\" , \"2029\" , \"2030\" , \"2031\" , \"2032\" , \"2033\" , \"2034\" , \"2035\" , \"2036\" , \"2037\" , \"2038\" , \"2039\" , \"2040\" , \"2041\" , \"2042\" , \"2043\" , \"2044\" , \"2045\" , \"2046\" , \"2047\" , \"2048\" , \"2049\" , \"2050\" , \"2051\" , \"2052\" , \"2053\" , \"2054\" , \"2055\" , \"2056\" , \"2057\" , \"2058\" , \"2059\" , \"2060\" , \"2061\" , \"2062\" , \"2063\" , \"2064\" , \"2065\" , \"2066\" , \"2067\" , \"2068\" , \"2069\" , \"2070\" , \"2071\" , \"2072\" , \"2073\" , \"2074\" , \"2075\" , \"2076\" , \"2077\" , \"2078\" , \"2079\" , \"2080\" , \"2081\" , \"2082\" , \"2083\" , \"2084\" , \"2085\" , \"2086\" , \"2087\" , \"2088\" , \"2089\" , \"2090\" , \"2091\" , \"2092\" , \"2093\" , \"2094\" , \"2095\" , \"2096\" , \"2981\" , \"2982\" , \"2983\" , \"2984\" , \"2985\" , \"2986\" , \"2987\" , \"2988\" , \"2989\" , \"2990\" , \"2991\" , \"2992\" , \"2993\" , \"2994\" , \"2995\" , \"2996\" , \"2997\" , \"2998\" , \"2999\" , \"3000\" , \"3001\" , \"3002\" , \"3003\" , \"3004\" , \"3005\" , \"3006\" , \"3007\" , \"3008\" , \"3009\" , \"3010\" , \"3011\" , \"3012\" , \"3013\" , \"3014\" , \"3015\" , \"3016\" , \"3017\" , \"3018\" , \"3019\" , \"3020\" , \"3021\" , \"3022\" , \"3023\" , \"3024\" , \"3025\" , \"3026\" , \"3027\" , \"3028\" , \"3029\" , \"3030\" , \"3031\" , \"3032\" , \"3033\" , \"3034\" , \"3035\" , \"3036\" , \"3037\" , \"3038\" , \"3039\" , \"3040\" , \"3041\" , \"3042\" , \"3043\" , \"3044\" , \"3045\" , \"3046\" , \"3047\" , \"3048\" , \"3049\" , \"3050\" , \"3051\" , \"3052\" , \"561\" , \"562\" , \"563\" , \"564\" , \"565\" , \"566\" , \"567\" , \"568\" , \"569\" , \"570\" , \"571\" , \"572\" , \"573\" , \"574\" , \"575\" , \"577\" , \"578\" , \"579\" , \"580\" , \"581\" , \"582\" , \"583\" , \"584\" , \"585\" , \"586\" , \"587\" , \"588\" , \"589\" , \"590\" , \"591\" , \"592\" , \"593\" , \"594\" , \"595\" , \"596\" , \"597\" , \"598\" , \"599\" , \"600\" , \"601\" , \"602\" , \"603\" , \"604\" , \"605\" , \"606\" , \"607\" , \"608\" , \"609\" , \"610\" , \"611\" , \"612\" , \"613\" , \"614\" , \"615\" , \"616\" , \"617\" , \"618\" , \"619\" , \"620\" , \"621\" , \"622\" , \"623\" , \"624\" , \"625\" , \"626\" , \"627\" , \"628\" , \"629\" , \"630\" , \"631\" , \"632\" , \"633\" , \"634\" , \"635\" , \"636\" , \"637\" , \"638\" , \"639\" , \"640\" , \"641\" , \"642\" , \"643\" , \"644\" , \"645\" , \"646\" , \"647\" , \"648\" , \"649\" , \"650\" , \"651\" , \"652\" , \"653\" , \"654\" , \"655\" , \"656\" , \"657\" , \"658\" , \"659\" , \"660\" , \"661\" , \"662\" , \"663\" , \"664\" , \"665\" , \"666\" , \"667\" , \"668\" , \"669\" , \"670\" , \"671\" , \"672\" , \"673\" , \"674\" , \"675\" , \"676\" , \"677\" , \"678\" , \"679\" , \"680\" , \"681\" , \"682\" , \"683\" , \"684\" , \"685\" , \"686\" , \"687\" , \"688\" , \"689\" , \"690\" , \"691\" , \"692\" , \"693\" , \"694\" , \"695\" , \"696\" , \"697\" , \"698\" , \"699\" , \"700\" , \"701\" , \"702\" , \"703\" , \"704\" , \"705\" , \"706\" , \"707\" , \"708\" , \"709\" , \"710\" , \"711\" , \"712\" , \"713\" , \"714\" , \"715\" , \"716\" , \"717\" , \"718\" , \"719\" , \"720\" , \"721\" , \"722\" , \"723\" , \"724\" , \"725\" , \"726\" , \"727\" , \"728\" , \"729\" , \"730\" , \"731\" , \"732\" , \"733\" , \"734\" , \"735\" , \"736\" , \"737\" , \"738\" , \"739\" , \"740\" , \"741\" , \"742\" , \"743\" , \"744\" , \"745\" , \"746\" , \"747\" , \"748\" , \"749\" , \"750\" , \"751\" , \"752\" , \"753\" , \"754\" ] ) ) ;Panel ( 0 ) | AddPanelOrnaments ( { \"tools\" : { \"shared\" : { \"regressionLine\" : \"Linear\" } } } ) ;Panel ( 0 ) | RetrievePanelOrnaments ( \"tools.shared.regressionLine\" ) ;Panel ( 0 ) | AddPanelOrnaments ( { \"tools\" : { \"shared\" : { \"regressionLine\" : \"None\" } } } ) ;Panel ( 0 ) | RetrievePanelOrnaments ( \"tools.shared.regressionLine\" ) ;Panel ( 0 ) | AddPanelOrnaments ( { \"tools\" : { \"shared\" : { \"toggleZoomX\" : true } } } ) ;Panel ( 0 ) | RetrievePanelOrnaments ( \"tools.shared.toggleZoomX\" ) ;Panel ( 0 ) | AddPanelOrnaments ( { \"tools\" : { \"shared\" : { \"toggleZoomY\" : true } } } ) ;Panel ( 0 ) | RetrievePanelOrnaments ( \"tools.shared.toggleZoomY\" ) ;if ( ( HasDuplicates ( PID , state_1 ) ) , ( Select ( PID , Average ( area ) , Average ( poptotal ) , UniqueGroupConcat ( state_1 ) ) .as ( [ PID , Averageofarea , Averageofpoptotal , UniqueGroupConcatofstate_1 ] ) | Group ( PID , state_1 ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Scatter\" , \"alignment\" : { \"label\" : [ \"PID\" ] , \"x\" : [ \"Averageofarea\" ] , \"y\" : [ \"Averageofpoptotal\" ] , \"z\" : [ ] , \"series\" : [ \"UniqueGroupConcatofstate_1\" ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) , ( Select ( PID , area , poptotal , state_1 ) .as ( [ PID , area , poptotal , state_1 ] ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Scatter\" , \"alignment\" : { \"label\" : [ \"PID\" ] , \"x\" : [ \"area\" ] , \"y\" : [ \"poptotal\" ] , \"z\" : [ ] , \"series\" : [ \"state_1\" ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) ) ;if ( ( HasDuplicates ( PID ) ) , ( Select ( PID , Average ( area ) , Average ( poptotal ) ) .as ( [ PID , Averageofarea , Averageofpoptotal ] ) | Group ( PID ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Scatter\" , \"alignment\" : { \"label\" : [ \"PID\" ] , \"x\" : [ \"Averageofarea\" ] , \"y\" : [ \"Averageofpoptotal\" ] , \"z\" : [ ] , \"series\" : [ ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) , ( Select ( PID , area , poptotal ) .as ( [ PID , area , poptotal ] ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Scatter\" , \"alignment\" : { \"label\" : [ \"PID\" ] , \"x\" : [ \"area\" ] , \"y\" : [ \"poptotal\" ] , \"z\" : [ ] , \"series\" : [ ] , \"facet\" : [ ] } } } ) | Collect ( 500 ) ) ) ;if ( ( HasDuplicates ( PID , state_1 ) ) , ( Select ( PID , Average ( area ) , Average ( poptotal ) , state_1 ) .as ( [ PID , Averageofarea , Averageofpoptotal , state_1 ] ) | Group ( PID , state_1 ) | Filter ( state_1 \u003d\u003d \"IL\" ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Scatter\" , \"alignment\" : { \"label\" : [ \"PID\" ] , \"x\" : [ \"Averageofarea\" ] , \"y\" : [ \"Averageofpoptotal\" ] , \"z\" : [ ] , \"series\" : [ ] , \"facet\" : [ \"state_1\" ] } , \"groupByInfo\" : { \"selectedDim\" : \"state_1\" , \"viewType\" : \"Individual Instance\" , \"instanceIndex\" : \"0\" , \"uniqueInstances\" : [ \"IL\" , \"IN\" , \"MI\" , \"OH\" , \"WI\" ] } } } ) | Collect ( 500 ) ) , ( Select ( PID , area , poptotal , state_1 ) .as ( [ PID , area , poptotal , state_1 ] ) | Filter ( state_1 \u003d\u003d \"IL\" ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Scatter\" , \"alignment\" : { \"label\" : [ \"PID\" ] , \"x\" : [ \"area\" ] , \"y\" : [ \"poptotal\" ] , \"z\" : [ ] , \"series\" : [ ] , \"facet\" : [ \"state_1\" ] } , \"groupByInfo\" : { \"selectedDim\" : \"state_1\" , \"viewType\" : \"Individual Instance\" , \"instanceIndex\" : \"0\" , \"uniqueInstances\" : [ \"IL\" , \"IN\" , \"MI\" , \"OH\" , \"WI\" ] } } } ) | Collect ( 500 ) ) ) ;if ( ( HasDuplicates ( PID , state_1 ) ) , ( Select ( PID , Average ( area ) , Average ( poptotal ) , state_1 ) .as ( [ PID , Averageofarea , Averageofpoptotal , state_1 ] ) | Group ( PID , state_1 ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Scatter\" , \"alignment\" : { \"label\" : [ \"PID\" ] , \"x\" : [ \"Averageofarea\" ] , \"y\" : [ \"Averageofpoptotal\" ] , \"z\" : [ ] , \"series\" : [ ] , \"facet\" : [ \"state_1\" ] } , \"groupByInfo\" : { \"selectedDim\" : \"state_1\" , \"viewType\" : \"All Instances\" , \"instanceIndex\" : \"0\" , \"uniqueInstances\" : [ \"IL\" , \"IN\" , \"MI\" , \"OH\" , \"WI\" ] } } } ) | Collect ( 500 ) ) , ( Select ( PID , area , poptotal , state_1 ) .as ( [ PID , area , poptotal , state_1 ] ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Scatter\" , \"alignment\" : { \"label\" : [ \"PID\" ] , \"x\" : [ \"area\" ] , \"y\" : [ \"poptotal\" ] , \"z\" : [ ] , \"series\" : [ ] , \"facet\" : [ \"state_1\" ] } , \"groupByInfo\" : { \"selectedDim\" : \"state_1\" , \"viewType\" : \"All Instances\" , \"instanceIndex\" : \"0\" , \"uniqueInstances\" : [ \"IL\" , \"IN\" , \"MI\" , \"OH\" , \"WI\" ] } } } ) | Collect ( 500 ) ) ) ;if ( ( HasDuplicates ( PID , county , state_1 ) ) , ( Select ( PID , Average ( area ) , Average ( poptotal ) , UniqueGroupConcat ( county ) , state_1 ) .as ( [ PID , Averageofarea , Averageofpoptotal , UniqueGroupConcatofcounty , state_1 ] ) | Group ( PID , county , state_1 ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Scatter\" , \"alignment\" : { \"label\" : [ \"PID\" ] , \"x\" : [ \"Averageofarea\" ] , \"y\" : [ \"Averageofpoptotal\" ] , \"z\" : [ ] , \"series\" : [ \"UniqueGroupConcatofcounty\" ] , \"facet\" : [ \"state_1\" ] } , \"groupByInfo\" : { \"selectedDim\" : \"state_1\" , \"viewType\" : \"All Instances\" , \"instanceIndex\" : \"0\" , \"uniqueInstances\" : [ \"IL\" , \"IN\" , \"MI\" , \"OH\" , \"WI\" ] } } } ) | Collect ( 500 ) ) , ( Select ( PID , area , poptotal , county , state_1 ) .as ( [ PID , area , poptotal , county , state_1 ] ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Scatter\" , \"alignment\" : { \"label\" : [ \"PID\" ] , \"x\" : [ \"area\" ] , \"y\" : [ \"poptotal\" ] , \"z\" : [ ] , \"series\" : [ \"county\" ] , \"facet\" : [ \"state_1\" ] } , \"groupByInfo\" : { \"selectedDim\" : \"state_1\" , \"viewType\" : \"All Instances\" , \"instanceIndex\" : \"0\" , \"uniqueInstances\" : [ \"IL\" , \"IN\" , \"MI\" , \"OH\" , \"WI\" ] } } } ) | Collect ( 500 ) ) ) ;UnfilterFrame ( PID ) ;ReplaceFrameFilter ( ( poptotal \u003c 1000000 ) ) ;ifError ( ( Frame ( ) | Select ( PID , area , poptotal , county , state_1 ) .as ( [ PID , area , poptotal , county , state_1 ] ) | With ( Panel ( 0 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"0\" : { \"layout\" : \"Scatter\" , \"alignment\" : { \"label\" : [ \"PID\" ] , \"x\" : [ \"area\" ] , \"y\" : [ \"poptotal\" ] , \"series\" : [ \"county\" ] , \"facet\" : [ \"state_1\" ] } , \"groupByInfo\" : { \"selectedDim\" : \"state_1\" , \"viewType\" : \"All Instances\" , \"instanceIndex\" : \"0\" , \"uniqueInstances\" : [ \"IL\" , \"IN\" , \"MI\" , \"OH\" , \"WI\" ] } } } ) | Collect ( 500 ) ) , ( true ) ) ;",
  "engineId": "df9ce5f5-0ba7-4576-89a0-66be003caf48"
}